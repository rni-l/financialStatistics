/**
 * @file mysql 配置
 */

const mysql = require('mysql')

let pool = {}

module.exports = {
  init: (config) => {
    try {
      pool = mysql.createPool(config)
      console.log(`
  ---------------------------------------------------------------------
  --------------------------- 连接 mysql 成功 --------------------------
  ---------------------------------------------------------------------`)
    } catch (error) {
      console.log(`
  ---------------------------------------------------------------------
  --------------------------- 连接 mysql 失败 --------------------------
  --------------------------- ${error} --------------------------
  ---------------------------------------------------------------------`)
    }
    return pool
  },

  getPool() {
    return pool
  }
}
